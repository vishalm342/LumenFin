{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/vishal/LumenFin/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/vishal/LumenFin/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2KAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///home/vishal/LumenFin/src/components/dashboard/DocumentVault.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { FileText, Upload, Loader2, CheckCircle2, AlertCircle, Trash2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\ninterface UploadedDocument {\n  id: string;\n  name: string;\n  status: 'uploading' | 'uploaded' | 'error';\n  uploadedAt?: Date;\n}\n\nexport default function DocumentVault() {\n  const [documents, setDocuments] = useState<UploadedDocument[]>([]);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // Load documents from localStorage on mount\n  useEffect(() => {\n    const savedDocs = localStorage.getItem('lumenfin_documents');\n    if (savedDocs) {\n      try {\n        const parsed = JSON.parse(savedDocs);\n        // Convert string dates back to Date objects and handle interrupted uploads\n        const formatted = parsed.map((doc: any) => ({\n          ...doc,\n          status: doc.status === 'uploading' ? 'error' : doc.status,\n          uploadedAt: doc.uploadedAt ? new Date(doc.uploadedAt) : undefined\n        }));\n        setDocuments(formatted);\n      } catch (e) {\n        console.error('Failed to parse saved documents', e);\n      }\n    }\n    setIsLoaded(true);\n  }, []);\n\n  // Save documents to localStorage whenever they change\n  useEffect(() => {\n    if (isLoaded) {\n      localStorage.setItem('lumenfin_documents', JSON.stringify(documents));\n    }\n  }, [documents, isLoaded]);\n\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\n    setErrorMessage('');\n    \n    for (const file of acceptedFiles) {\n      if (file.type !== 'application/pdf') {\n        setErrorMessage('Only PDF files are supported. Please upload a PDF.');\n        setTimeout(() => setErrorMessage(''), 5000);\n        continue;\n      }\n\n      const tempId = `temp-${Date.now()}-${Math.random()}`;\n      setDocuments(prev => [...prev, {\n        id: tempId,\n        name: file.name,\n        status: 'uploading',\n      }]);\n\n      setIsUploading(true);\n\n      try {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const response = await fetch('/api/ingest', {\n          method: 'POST',\n          body: formData,\n        });\n\n        if (!response.ok) {\n          throw new Error('Upload failed');\n        }\n\n        setDocuments(prev => prev.map(doc => \n          doc.id === tempId \n            ? { ...doc, status: 'uploaded' as const, uploadedAt: new Date() }\n            : doc\n        ));\n\n      } catch (error) {\n        console.error('Upload error:', error);\n        setErrorMessage(`Failed to upload ${file.name}. Please try again.`);\n        setTimeout(() => setErrorMessage(''), 5000);\n        setDocuments(prev => prev.map(doc => \n          doc.id === tempId \n            ? { ...doc, status: 'error' as const }\n            : doc\n        ));\n      } finally {\n        setIsUploading(false);\n      }\n    }\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf'],\n    },\n    multiple: true,\n  });\n\n  return (\n    <div className=\"bg-[#0f172a]/50 backdrop-blur-xl rounded-xl h-full border border-[#1e293b] flex flex-col shadow-2xl\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center p-6 border-b border-[#1e293b]/50\">\n        <div>\n          <h2 className=\"text-xl font-bold tracking-tight text-white mb-1\">Document Vault</h2>\n          <p className=\"text-xs text-slate-500\">{documents.length} document{documents.length !== 1 ? 's' : ''} uploaded</p>\n        </div>\n        <div {...getRootProps()} className=\"cursor-pointer\">\n          <input {...getInputProps()} />\n          <Button \n            size=\"sm\"\n            className=\"bg-[#10b981] hover:bg-[#059669] text-white\"\n            disabled={isUploading}\n          >\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Upload a file\n          </Button>\n        </div>\n      </div>\n\n      {/* Error Message */}\n      {errorMessage && (\n        <div className=\"mx-6 mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg flex items-center gap-2\">\n          <AlertCircle className=\"w-4 h-4 text-red-400 flex-shrink-0\" />\n          <p className=\"text-sm text-red-400\">{errorMessage}</p>\n        </div>\n      )}\n\n      {/* Document List */}\n      <ScrollArea className=\"flex-1 p-6\">\n        {documents.length === 0 ? (\n          <div\n            {...getRootProps()}\n            className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${\n              isDragActive \n                ? 'border-[#10b981] bg-[#10b981]/10' \n                : 'border-[#1e293b] hover:border-slate-600'\n            }`}\n          >\n            <input {...getInputProps()} />\n            <Upload className=\"mx-auto mb-4 text-slate-500\" size={48} />\n            <p className=\"text-slate-400 mb-2\">\n              {isDragActive ? 'Drop files here...' : 'Drag & drop PDF files here'}\n            </p>\n            <p className=\"text-slate-500 text-sm\">or click to browse</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {documents.map((doc) => (\n              <div\n                key={doc.id}\n                className=\"group flex items-center gap-4 p-4 bg-[#0f172a] rounded-xl border border-[#1e293b] hover:border-[#10b981]/50 hover:bg-[#0f172a]/80 transition-all\"\n              >\n                <div className=\"p-2 bg-[#10b981]/10 rounded-lg\">\n                  <FileText className=\"text-[#10b981] flex-shrink-0\" size={20} />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-slate-200 text-sm font-medium truncate\">{doc.name}</p>\n                  {doc.uploadedAt && (\n                    <p className=\"text-xs text-slate-500 mt-0.5\">\n                      {new Date(doc.uploadedAt).toLocaleString()}\n                    </p>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {doc.status === 'uploaded' && (\n                    <>\n                      <Badge className=\"bg-[#10b981]/20 text-[#10b981] border-[#10b981]/30 hover:bg-[#10b981]/30\">\n                        <CheckCircle2 className=\"w-3 h-3 mr-1\" />\n                        Ready\n                      </Badge>\n                    </>\n                  )}\n                  {doc.status === 'error' && (\n                    <Badge variant=\"destructive\" className=\"bg-red-500/20 text-red-400 border-red-500/30\">\n                      <AlertCircle className=\"w-3 h-3 mr-1\" />\n                      Failed\n                    </Badge>\n                  )}\n                  {doc.status === 'uploading' && (\n                    <div className=\"flex items-center gap-2\">\n                      <Loader2 className=\"w-4 h-4 text-[#10b981] animate-spin\" />\n                      <span className=\"text-xs text-slate-400\">Processing...</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </ScrollArea>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}